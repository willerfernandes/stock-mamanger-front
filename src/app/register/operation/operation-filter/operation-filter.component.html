<h1>Operações</h1>

<div>
  <label><input #operation_input class="form-control mr-sm-4" type="search" placeholder="Search" aria-label="Search"/> </label>
  <button (click)="find_by_chave(operation_input.value)" class="btn btn-primary" type="submit" >BUSCAR</button>
  <button (click)="get_all_operations()" class="btn btn-primary" type="submit" >LISTAR TODOS</button>
<div >
	<table class="table  table-hover table-sm" style="width: 50%">
  <thead class="thead-light">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Papel</th>
      <th scope="col">Data</th>
      <th scope="col">Tipo</th>
      <th scope="col">Quantidade</th>
      <th scope="col">Valor</th>
      <th scope="col">Valor Total</th>
      <th scope="col">Usuario</th>
      <th scope="col"><button class="btn btn-primary" [routerLink]="['/operation/new']">NOVO</button></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody >
    <tr *ngFor="let operation of operations">
      <th scope="row">{{operation.id}}</th>
      <td>{{operation.papel.codPapel}}</td>
      <td>{{operation.dataOperacao}}</td>
      <td>{{operation.tipoOperacao}}</td>
      <td>{{operation.quantidade}}</td>
      <td>{{operation.valorPapel}}</td>
      <td>{{operation.valorTotal}}</td>
      <td>{{operation.usuario.nome}}</td>
      <td style="width: 5%"><a routerLink="/operation/{{operation.id}}"><span class="badge">EDITAR</span></a></td>
      <td style="width: 5%"><button (click)="delete_operation(operation.id)" class="btn btn-light"><span class="badge">EXCLUIR</span></button></td>
    </tr>
  </tbody>
</table>
</div>
<div *ngIf="isEmpty" class="alert alert-warning" role="alert" style="width: 50%">
 Nenhuma operação encontrada!
</div>
<div *ngIf="isSuccess" class="alert alert-info" role="alert" style="width: 50%">
 {{ operations.length }} operações encontradas!
</div>
<div *ngIf="isError">
 <div class="alert alert-danger" role="alert">
  Houve um erro ao realizar a solicitação!
</div>
</div>
